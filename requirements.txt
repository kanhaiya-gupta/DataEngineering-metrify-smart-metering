# Metrify Smart Metering Data Pipeline v3 - Complete Dependencies
# =================================================================
# Updated for Phase 1, 2, and 3 implementations

# Core Web Framework & API
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.0
pydantic-settings==2.1.0
python-multipart==0.0.6

# Database & ORM
sqlalchemy==2.0.23
psycopg2-binary==2.9.9
alembic==1.13.1
pymongo==4.15.2
redis==5.3.1
sqlparse>=0.5.0,<0.6.0
jinja2>=3.1.3,<4.0.0

# Data Processing & Analytics - Pinned versions for stability
pandas==1.5.3
numpy>=1.26.0,<2.0.0
scipy==1.11.4
polars==0.20.2
pyspark==3.4.1

# Machine Learning & AI - Pinned versions for stability
# mlflow  # Install separately at the end
tensorflow>=2.18.0
tensorflow-probability==0.23.0
tensorflow-io==0.31.0
optuna==3.4.0
feast>=0.37.0
# evidently>=0.4.0  # Temporarily disabled due to Pydantic v2 compatibility issues
shap==0.42.1
xgboost==2.0.2
lightgbm==4.1.0
catboost==1.2.2
tensorflow-hub==0.15.0
tensorflow-transform>=1.17.0
scikit-learn==1.3.2
joblib==1.3.2
pydantic-extra-types==2.1.0

# Message Queue & Streaming
kafka-python==2.2.15
aiokafka==0.12.0
confluent-kafka==2.11.1
apache-flink>=2.1.0
apache-beam>=2.61.0
cloudpickle==2.2.1
avro==1.12.0
fastavro==1.12.0
pytz>=2020.1,<2024.0
requests==2.32.5
protobuf>=5.0.0,<6.0.0
pyarrow==14.0.1
pemja==0.5.3
httplib2==0.22.0
ruamel.yaml==0.18.15

# Cloud Services & Storage
boto3==1.28.0
s3fs==2023.6.0
snowflake-connector-python==3.13.2
snowflake-sqlalchemy>=1.6.0
azure-storage-blob==12.19.0
azure-identity==1.15.0
azure-keyvault-secrets==4.7.0
google-cloud-storage>=2.12.0
google-cloud-bigquery>=3.14.0
google-cloud-pubsub>=2.19.0

# Workflow Orchestration
#apache-airflow==2.7.3
#apache-airflow-providers-postgres==5.6.0
#apache-airflow-providers-amazon==8.12.0
#apache-airflow-providers-azure==8.12.0
#apache-airflow-providers-google==10.10.0

# Workflow Orchestration
apache-airflow
apache-airflow-providers-postgres
apache-airflow-providers-amazon
#apache-airflow-providers-azure
apache-airflow-providers-google


# dbt Data Transformation
#dbt-core==1.7.0
#dbt-postgres==1.7.0
#dbt-snowflake==1.7.0
#dbt-utils==1.1.1
#dbt-expectations==0.9.0
#dbt-codegen==0.12.1
#dbt-audit-helper==0.9.0
#dbt-external-tables==0.8.4
#dbt-date==0.8.0
#dbt-docs==1.7.0

# dbt Data Transformation (pip-installable packages only)
dbt-core
dbt-postgres
dbt-snowflake
# Note: dbt-utils, dbt-expectations, dbt-codegen, dbt-audit-helper, 
# dbt-external-tables, dbt-date, and dbt-docs are dbt packages 
# and should be installed via 'dbt deps' (see dbt/packages.yml)

# Data Quality & Validation
great-expectations>=0.18.8
pandera==0.17.2

# Monitoring & Observability
prometheus-client==0.19.0
grafana-api==1.0.3
datadog==0.48.0
sentry-sdk==1.38.0
# Note: jaeger-client and opencensus-ext-jaeger are deprecated
# Using OpenTelemetry instead (see OpenTelemetry section below)

# OpenTelemetry & Tracing (temporarily disabled due to protobuf conflicts)
# opentelemetry-api>=1.22.0
# opentelemetry-sdk>=1.22.0
# opentelemetry-instrumentation-fastapi>=0.43b0
# opentelemetry-instrumentation-sqlalchemy>=0.43b0
# opentelemetry-exporter-jaeger==1.21.0
# Note: opentelemetry-instrumentation-kafka doesn't exist as a separate package
# Kafka instrumentation is included in opentelemetry-instrumentation-kafka-python

# HTTP & API Clients
httpx==0.25.2
aiohttp==3.9.1

# CLI & User Interface
click==8.1.7
rich==13.7.0
typer==0.9.0

# Testing Framework
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
pytest-html==3.2.0
pytest-xdist==3.3.0
pytest-timeout==2.1.0
pytest-mock==3.12.0
# pytest-dbt==0.1.0  # Package doesn't exist

# Test Data Generation
factory-boy==3.2.0
faker==19.0.0
hypothesis==6.82.0

# Performance Testing
locust==2.16.0
psutil==5.9.0

# Code Quality & Linting
black==23.11.0
isort==5.12.0
mypy==1.7.1
flake8==6.1.0
bandit==1.7.0
pre-commit==3.6.0

# Development Tools
jupyter==1.0.0
ipython==8.18.1
python-dotenv==1.0.0

# Security & Authentication
cryptography>=41.0.0,<47.0.0
passlib[bcrypt]==1.7.4
python-jose[cryptography]==3.3.0
keyring==24.3.0

# Configuration & Utilities
pyyaml==6.0.1
python-dateutil==2.8.2
tenacity==8.2.3
structlog==23.2.0
schedule==1.2.0
cachetools==5.3.2
memory-profiler==0.61.0
celery==5.3.4
diskcache==5.6.3
dynaconf==3.2.4
newrelic==9.2.0
# Note: apache-atlas is not a Python package - it's a Java-based data governance tool

# Advanced Analytics & Visualization
matplotlib==3.7.2
plotly==5.17.0
dash==2.14.2
statsmodels==0.14.0
prophet==1.1.4

# Performance Optimization
numba==0.58.1
cython==3.0.6
